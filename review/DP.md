# 动态规划

## 知识归纳

将一个问题拆成若干个更小规模的子问题集，求解这些子问题，找到不同规模的子问题之间的推演规律，从而从小规模的情形推断出大规模问题的解。

### 适用的问题

1. 可以将大问题拆分为若干个小规模问题。
2. 上述的拆分具有==最优子结构的性质==：大问题的最优解可以由小问题的最优解推出。
3. 上述的拆分具有==无后效性==：一旦`f(n)`确定，`f(n)`的生成过程就不再重要，对之后的问题没有影响。即：给定某一阶段的状态，则在这一阶段以后过程的发展不受这阶段以前各段状态的影响。

动态规划问题必然是一个多步决策的问题，每次的决策将使得问题的规模缩小。假设每次进行一次都会进入一下个“状态”，可以断言：

1. 每个阶段的最优状态都是由==上一个阶段的最优状态==得到的；
2. 每个阶段的最优状态是由之前所有阶段的状态的组合得到的；
3. 

## 作业

## OJ

### 1. Triangle

动态规划要求问题的规模不断变小，而在这题中，问题的规模显然是“三角形的层数”。从 trivial case 开始入手：我们假设这个三角形只有3个元素，比如`[3, 5, 6]`，那么最短的路径显然是`3->5`，因为另一条路径`3->6`的和要更大。再让层数加一，如果三角形有6个元素：`[1, 2, 3, 4, 5, 6]`，最小路径很显然是`1->2->4`。

~~~
  1
 2 3
4 5 6
~~~

我们发现，除了最底层的元素外，所有的元素都有两个下层元素可供选择，而我们总会选更小的那个元素。比如当我们确定路径为`1->2`后，那么最后一个数一定不选5而是选4。由此，我们不妨从底层往上推进：当我们处理这个三角形的第二和第三层的时候，我们可以确定只有两种路径：`2->4`和`3->5`，前者的和为6，后者的和为8，那么上述的三角形就可以简化为：

~~~
 1
6 8
~~~

显然路径为`1->6`，所以最小路径和为7。

### 2. Maximum Alternating Subsequence Sum

> 这题暂时没想明白，忘了当时咋想的了

这题不好直接分析，但知道是动态规划类型的题后，我们可以先假设我们从数组的第一个数开始逐一遍历，选择或不选择其中的若干个数。假设某一时刻我们已经选择了其中的k个数，即`[n1, n2, ... nk]`，假设这个数组中奇数索引的元素和为`odd`，偶数索引的元素和为`even`，那么根据题意，`result = even - odd`。然后考虑：是否将后一个数加入进来？为此，我们需要分情况讨论（假设这个数为`num`）：

1. 如果 k 是偶数：即 k+1 是奇数，那么如果我们选择这个数，就必须确保`even - num > odd`，否则选了这个数之后`result`就变小了。
2. 如果 k 是奇数：即 k+1 是偶数，那么如果我们选择这个数，就要确保`odd + num > even`，否则选了这个数之后`result`就变小了。